<div class="menu-container" [class.open]="open()">
  <button class="menu-toggle" type="button" (click)="toggleMenu()">&#9776;</button>
  <div class="panel">
    <br><br>
     <h3>Reglas predefinidas</h3>
    <select (change)="onRulePresetChange($event)" [value]="currentPreset">
      <option *ngFor="let r of rulePresets" [value]="r.name">
        {{ r.name }}
      </option>
    </select>
    <h3>Reglas</h3>
    <label>
      Sobrevive (S):
      <input type="text" [value]="survive()" (input)="onSurviveChange($event)" />
    </label>
    <label>
      Nace (B):
      <input type="text" [value]="born()" (input)="onBornChange($event)" />
    </label>

    <h3>Velocidad</h3>
    <label>
      Generaciones / s:
      <input type="number" [value]="speed()" (input)="onSpeedChange($event)" min="1" max="120"/>
    </label>

  <h3>Patrones</h3>
  <select (change)="onPatternChange($event)">
    <option value="">Seleccione...</option>
    @for (p of patterns(); track p.name) {
      <option [value]="p.name">{{ p.name }}</option>
    }
  </select>

  <h3>Visualización</h3>
  <label>
    <input type="checkbox" [checked]="colorEnabled()" (change)="onColorEnabledChange($event)" /> Usar colores
  </label>
  <label>
    Color base:
    <input type="color" [value]="baseColor()" (input)="onBaseColorChange($event)" />
  </label>
  <label>
    Fondo:
    <input type="color" [value]="background()" (input)="onBgColorChange($event)" />
  </label>

  <h3>Música</h3>
  <label>
    <input type="checkbox" [checked]="musicEnabled()" (change)="onMusicEnabledChange($event)" /> Activar música
  </label>
  <label>
    Escala:
    <select (change)="onScaleChange($event)" [value]="scale()">
      <option value="major">Mayor</option>
      <option value="minor">Menor</option>
      <option value="lydian">Lidio</option>
      <option value="dorian">Dórico</option>
    </select>
  </label>
  <label>
    Paso X:
    <input type="number" [value]="hStep()" (input)="onHStepChange($event)" />
  </label>
  <label>
    Paso Y:
    <input type="number" [value]="vStep()" (input)="onVStepChange($event)" />
  </label>
  <label>
    Nota raíz:
    <input type="number" [value]="rootNote()" (input)="onRootNoteChange($event)" />
  </label>
  <label>
    Octavas:
    <input type="number" min="1" [value]="octaves()" (input)="onOctavesChange($event)" />
  </label>
  <label>
    <input type="checkbox" [checked]="drumsEnabled()" (change)="onDrumsEnabledChange($event)" /> Drum track
  </label>
  <label>
    Pasos del compás:
    <input type="number" min="1" [value]="drumInterval()" (input)="onDrumIntervalChange($event)" />
  </label>
  <label>
    Posición bombo:
    <input type="number" [value]="kickPos()" (input)="onKickPosChange($event)" />
  </label>
  <label>
    Posición redoblante:
    <input type="number" [value]="snarePos()" (input)="onSnarePosChange($event)" />
  </label>
  <label>
    BPM por velocidad:
    <input type="number" min="1" [value]="bpmRatio()" (input)="onBpmRatioChange($event)" />
  </label>

    <h3>Controles</h3>
    <button type="button" (click)="start.emit()">Play</button>
    <button type="button" (click)="stop.emit()">Stop</button>
    <button type="button" (click)="game.clear()">Limpiar</button>
    <h3>Importar RLE</h3>
    <input type="file" accept=".rle,.lif" (change)="onRLEFileSelected($event)"  />
  </div>
  <br/>
  <br/>
</div>
